!function(){"use strict";var e={5251:function(e,t,s){var r=s(9196),a=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),o("react.fragment")}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,s){var r,o={},i=null,p=null;for(r in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(p=t.ref),t)n.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:i,ref:p,props:o,_owner:l.current}}t.jsx=i,t.jsxs=i},5893:function(e,t,s){e.exports=s(5251)},9196:function(e){e.exports=window.React}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=window.wp.blocks,t=window.wp.blockEditor,r=window.wp.components,a=window.wp.element,o=window.wp.apiFetch,l=s.n(o),n=window.wp.i18n,c=s(5893);var i=e=>{const{attributes:s,setAttributes:o}=e,[i,p]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),{searchPlaceholder:h,facet:_,displayCount:b,orderby:v,order:w}=s,m=(0,t.useBlockProps)(),x=(0,a.useCallback)((()=>{(async()=>{const e=await l()({path:"/elasticpress/v1/facets/meta/keys"});p(e)})()}),[p]);return(0,a.useEffect)(x,[x]),(0,a.useEffect)((()=>{y(!0);const e=new URLSearchParams({searchPlaceholder:h,facet:_,displayCount:b,orderby:v,order:w});l()({path:`/elasticpress/v1/facets/meta/block-preview?${e}`}).then((e=>u(e))).finally((()=>y(!1)))}),[h,_,b,v,w]),(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(t.InspectorControls,{children:(0,c.jsxs)(r.PanelBody,{title:(0,n.__)("Facet Settings","elasticpress"),children:[(0,c.jsx)(r.TextControl,{label:(0,n.__)("Search Placeholder","elasticpress"),value:h,onChange:e=>o({searchPlaceholder:e})}),(0,c.jsx)(r.SelectControl,{label:(0,n.__)("Meta Field Key","elasticpress"),help:(0,a.createInterpolateElement)((0,n.__)("This is the list of meta fields indexed in Elasticsearch. If your desired field does not appear in this list please try to <a>sync your content</a>","elasticpress"),{a:(0,c.jsx)("a",{href:facetMetaBlock.syncUrl})}),value:_,options:[...i.map((e=>({label:e,value:e})))],onChange:e=>o({facet:e})}),(0,c.jsx)(r.ToggleControl,{checked:b,onChange:e=>o({displayCount:e}),label:(0,n.__)("Display Term Count","elasticpress")}),(0,c.jsx)(r.RadioControl,{label:(0,n.__)("Order By","elasticpress"),help:(0,n.__)("The field used to order available options","elasticpress"),selected:v,options:[{label:(0,n.__)("Count","elasticpress"),value:"count"},{label:(0,n.__)("Name","elasticpress"),value:"name"}],onChange:e=>o({orderby:e})}),(0,c.jsx)(r.RadioControl,{label:(0,n.__)("Order","elasticpress"),selected:w,options:[{label:(0,n.__)("ASC","elasticpress"),value:"asc"},{label:(0,n.__)("DESC","elasticpress"),value:"desc"}],onChange:e=>o({order:e})})]})}),(0,c.jsxs)("div",{...m,children:[f&&(0,c.jsx)(r.Placeholder,{children:(0,c.jsx)(r.Spinner,{})}),!f&&(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:d}})]})]})},p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"title":"Facet by Meta (ElasticPress)","textdomain":"elasticpress","name":"elasticpress/facet-meta","icon":"feedback","category":"widgets","attributes":{"searchPlaceholder":{"type":"string","default":"Search"},"facet":{"type":"string","default":""},"displayCount":{"type":"boolean","default":false},"orderby":{"type":"string","default":"count","enum":["count","name"]},"order":{"type":"string","default":"desc","enum":["desc","asc"]}},"supports":{"html":false},"editorScript":"ep-facets-meta-block-script","style":"elasticpress-facets"}');(0,e.registerBlockType)(p,{edit:i,save:()=>{}})}()}();