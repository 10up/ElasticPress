!function(){"use strict";var e={5251:function(e,t,s){var r=s(9196),n=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;n=o("react.element"),o("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,s){var r,o={},p=null,c=null;for(r in void 0!==s&&(p=""+s),void 0!==t.key&&(p=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,r)&&!a.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:n,type:e,key:p,ref:c,props:o,_owner:i.current}}t.jsx=p,t.jsxs=p},5893:function(e,t,s){e.exports=s(5251)},9196:function(e){e.exports=window.React}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}!function(){var e=window.wp.blocks,t=window.wp.i18n,r=window.wp.blockEditor,n=window.wp.components,o=window.wp.element,i=window.wp.url,l=s(5893);class a extends o.Component{constructor(e){super(e),this.state={posts:!1}}componentDidMount(){const{context:{postId:e=0}={}}=this.props;wp.apiFetch({path:(0,i.addQueryArgs)(`/wp/v2/posts/${e}/related`,{number:100})}).then((e=>{this.setState({posts:e})})).catch((()=>{this.setState({posts:!1})}))}render(){const{attributes:{alignment:e,number:s},setAttributes:i,className:a}=this.props,{posts:p}=this.state,c=p.length>s?p.slice(0,s):p;return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(r.BlockControls,{children:(0,l.jsx)(r.AlignmentToolbar,{value:e,onChange:e=>i({alignment:e})})}),(0,l.jsx)(r.InspectorControls,{children:(0,l.jsx)(n.PanelBody,{title:(0,t.__)("Related Post Settings","elasticpress"),children:(0,l.jsx)(n.QueryControls,{numberOfItems:s,onNumberOfItemsChange:e=>i({number:e})})})}),(0,l.jsx)("div",{className:a,children:!1===c||0===c.length?(0,l.jsx)(n.Placeholder,{icon:"admin-post",label:(0,t.__)("Related Posts","elasticpress"),children:!1===p?(0,l.jsx)(n.Spinner,{}):(0,t.__)("No related posts yet.","elasticpress")}):(0,l.jsx)("ul",{style:{textAlign:e},children:c.map((e=>{const s=e.title.rendered.trim();return(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:e.link,children:s?(0,l.jsx)(o.RawHTML,{children:s}):(0,t.__)("(Untitled)","elasticpress")})},e.id)}))})})]})}}var p=a;(0,e.registerBlockType)("elasticpress/related-posts",{title:(0,t.__)("Related Posts (ElasticPress)","elasticpress"),supports:{align:!0},category:"widgets",attributes:{alignment:{type:"string",default:"none"},number:{type:"number",default:5}},usesContext:["postId"],edit:e=>(0,l.jsx)(p,{...e}),save:()=>null})}()}();