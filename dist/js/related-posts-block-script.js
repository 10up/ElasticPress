!function(){"use strict";var e={5251:function(e,t,r){var n=r(9196),s=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;s=o("react.element"),o("react.fragment")}var i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,r){var n,o={},a=null,d=null;for(n in void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:s,type:e,key:a,ref:d,props:o,_owner:i.current}}t.jsx=a,t.jsxs=a},5893:function(e,t,r){e.exports=r(5251)},9196:function(e){e.exports=window.React}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=window.wp.blocks,t=window.wp.primitives,n=r(5893),s=()=>(0,n.jsxs)(t.SVG,{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,n.jsx)(t.Path,{d:"M 20.75 3.25 L 20.75 19.75 L 3.25 19.75 L 3.25 3.25 Z M 19.25 18.25 L 19.25 4.75 L 10.25 4.75 L 10.25 18.25 Z M 4.75 4.75 L 4.75 18.25 L 8.75 18.25 L 8.75 4.75 Z"}),(0,n.jsx)(t.Path,{d:"M 4 8.25 C 4.6 8.25 7.392 8.25 10.638 8.25 C 12.26 8.25 13.997 8.25 15.63 8.25 C 16.446 8.25 17.237 8.25 17.974 8.25 C 18.711 8.25 20 8.25 20 8.25 L 20 9.75 C 20 9.75 18.711 9.75 17.974 9.75 C 17.237 9.75 16.446 9.75 15.63 9.75 C 13.997 9.75 12.26 9.75 10.638 9.75 C 7.392 9.75 4.6 9.75 4 9.75 Z M 4 13.25 L 20 13.25 L 20 14.75 L 4 14.75 Z"})]}),o=window.wp.apiFetch,i=r.n(o),l=window.wp.blockEditor,c=window.wp.components,a=window.wp.element,d=window.wp.i18n,p=window.wp.url;var u=({attributes:e,context:t,setAttributes:r})=>{const{alignment:o,number:u}=e,[f,w]=(0,a.useState)(!1),h=(0,l.useBlockProps)(),x=f.length>u?f.slice(0,u):f;return(0,a.useEffect)((()=>{const{postId:e=0}=t;i()({path:(0,p.addQueryArgs)(`/elasticpress/v1/related-posts/${e}`,{number:100})}).then((e=>{w(e)})).catch((()=>{w(!1)}))}),[t]),(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(l.BlockControls,{children:(0,n.jsx)(l.AlignmentToolbar,{value:o,onChange:e=>r({alignment:e})})}),(0,n.jsx)(l.InspectorControls,{children:(0,n.jsx)(c.PanelBody,{title:(0,d.__)("Settings","elasticpress"),children:(0,n.jsx)(c.QueryControls,{numberOfItems:u,onNumberOfItemsChange:e=>r({number:e})})})}),(0,n.jsx)("div",{...h,children:!1===x||0===x.length?(0,n.jsx)(c.Placeholder,{icon:s,label:(0,d.__)("Related Posts","elasticpress"),children:!1===f?(0,n.jsx)(c.Spinner,{}):(0,d.__)("No related posts yet.","elasticpress")}):(0,n.jsx)(c.Disabled,{children:(0,n.jsx)("ul",{style:{textAlign:o},children:x.map((e=>{const t=e.title.rendered.trim();return(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:e.link,onClick:e=>e.preventDefault(),children:t?(0,n.jsx)(a.RawHTML,{children:t}):(0,d.__)("(Untitled)","elasticpress")})},e.id)}))})})})]})},f=JSON.parse('{"u2":"elasticpress/related-posts"}'),w={from:[{type:"block",blocks:["core/legacy-widget"],isMatch:({idBase:e})=>"ep-related-posts"===e,transform:({instance:t})=>{const{title:r=null,num_posts:n}=t.raw;return r?[(0,e.createBlock)("core/heading",{content:r}),(0,e.createBlock)("elasticpress/related-posts",{number:n})]:(0,e.createBlock)("elasticpress/related-posts",{number:n})}}]};(0,e.registerBlockType)(f.u2,{icon:s,edit:e=>(0,n.jsx)(u,{...e}),save:()=>{},transforms:w})}()}();