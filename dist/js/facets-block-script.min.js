!function(){"use strict";var e={5251:function(e,t,s){var r=s(9196),o=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var n=Symbol.for;o=n("react.element"),n("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,s){var r,n={},i=null,p=null;for(r in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(p=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:o,type:e,key:i,ref:p,props:n,_owner:a.current}}t.jsx=i,t.jsxs=i},5893:function(e,t,s){e.exports=s(5251)},9196:function(e){e.exports=window.React}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,s),n.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=window.wp.blockEditor,t=window.wp.components,r=window.wp.element,o=window.wp.apiFetch,n=s.n(o),a=window.wp.i18n,l=s(5893);var c=s=>{const{attributes:o,setAttributes:c}=s,[i,p]=(0,r.useState)({}),[u,d]=(0,r.useState)(""),[f,_]=(0,r.useState)(!1),{facet:y,orderby:b,order:v}=o,w=(0,e.useBlockProps)(),m=(0,r.useCallback)((async()=>{const e=await n()({path:"/elasticpress/v1/facets/taxonomies"});p(e)}),[p]);return(0,r.useEffect)(m,[m]),(0,r.useEffect)((()=>{_(!0);const e=new URLSearchParams({facet:y,orderby:b,order:v});n()({path:`/elasticpress/v1/facets/block-preview?${e}`}).then((e=>d(e))).finally((()=>_(!1)))}),[y,b,v]),(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(e.InspectorControls,{children:(0,l.jsxs)(t.PanelBody,{title:(0,a.__)("Facet Settings","elasticpress"),children:[(0,l.jsx)(t.SelectControl,{label:(0,a.__)("Taxonomy","elasticpress"),value:y,options:[...Object.entries(i).map((([e,t])=>({label:t.label,value:e})))],onChange:e=>c({facet:e})}),(0,l.jsx)(t.RadioControl,{label:(0,a.__)("Order By","elasticpress"),help:(0,a.__)("The field used to order available options","elasticpress"),selected:b,options:[{label:(0,a.__)("Count","elasticpress"),value:"count"},{label:(0,a.__)("Name","elasticpress"),value:"name"}],onChange:e=>c({orderby:e})}),(0,l.jsx)(t.RadioControl,{label:(0,a.__)("Order","elasticpress"),selected:v,options:[{label:(0,a.__)("ASC","elasticpress"),value:"asc"},{label:(0,a.__)("DESC","elasticpress"),value:"desc"}],onChange:e=>c({order:e})})]})}),(0,l.jsxs)("div",{...w,children:[f&&(0,l.jsx)(t.Placeholder,{children:(0,l.jsx)(t.Spinner,{})}),!f&&(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:u}})]})]})},i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"title":"Facet (ElasticPress)","textdomain":"elasticpress","name":"elasticpress/facet","icon":"feedback","category":"widgets","attributes":{"facet":{"type":"string","default":""},"orderby":{"type":"string","default":"count","enum":["count","name"]},"order":{"type":"string","default":"desc","enum":["desc","asc"]}},"supports":{"html":false},"editorScript":"file:/../../../../dist/js/facets-block-script.min.js","style":"file:/../../../../dist/css/facets-styles.min.css"}');const{registerBlockType:p}=wp.blocks;p(i,{edit:c,save:()=>{}})}()}();