{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/dashboard.js","webpack:///external \"jQuery\"","webpack:///external \"window\""],"names":["$features","document","getElementsByClassName","$errorOverlay","$progressBar","$syncStatusText","$startSyncButton","$resumeSyncButton","$pauseSyncButton","$cancelSyncButton","syncStatus","featureSync","currentSyncItem","syncStack","processed","toProcess","on","parents","toggleClass","event","preventDefault","hasClass","feature","target","getAttribute","$feature","find","settings","$settings","each","type","attr","name","value","addClass","jQuery","ajax","method","url","ajaxurl","data","action","nonce","epDash","done","response","setTimeout","removeClass","active","reindex","updateSyncDash","remove","sync","error","index_meta","wpcli_sync","offset","feature_sync","current_sync_item","site_stack","sync_stack","length","auto_start_index","history","pushState","title","location","pathname","search","replace","start","text","css","width","parseInt","sync_initial","show","hide","sync_syncing","indexable","sync_indexable_labels","plural","toLowerCase","sync_paused","sync_wpcli","sync_error","sync_complete","cancelSync","found_items","status"],"mappings":"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","file":"dashboard.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/dashboard.js\");\n","import jQuery from 'jquery'\nimport { ajaxurl, epDash } from 'window'\n\nconst $features = jQuery( document.getElementsByClassName( 'ep-features' ) )\nconst $errorOverlay = jQuery( document.getElementsByClassName( 'error-overlay' ) )\nconst $progressBar = jQuery( document.getElementsByClassName( 'progress-bar' ) )\nconst $syncStatusText = jQuery( document.getElementsByClassName( 'sync-status' ) )\nconst $startSyncButton = jQuery( document.getElementsByClassName( 'start-sync' ) )\nconst $resumeSyncButton = jQuery( document.getElementsByClassName( 'resume-sync' ) )\nconst $pauseSyncButton = jQuery( document.getElementsByClassName( 'pause-sync' ) )\nconst $cancelSyncButton = jQuery( document.getElementsByClassName( 'cancel-sync' ) )\n\nlet syncStatus = 'sync',\n\tfeatureSync = false,\n\tcurrentSyncItem,\n\tsyncStack,\n\tprocessed = 0,\n\ttoProcess = 0\n\n$features.on( 'click', '.learn-more, .collapse', function() {\n\tjQuery( this ).parents( '.ep-feature' ).toggleClass( 'show-full' )\n} )\n\n$features.on( 'click', '.settings-button', function() {\n\tjQuery( this ).parents( '.ep-feature' ).toggleClass( 'show-settings' )\n} )\n\n$features.on( 'click', '.save-settings', function( event ) {\n\tevent.preventDefault()\n\n\tif ( jQuery( this ).hasClass( 'disabled' ) ) {\n\t\treturn\n\t}\n\n\tconst feature = event.target.getAttribute( 'data-feature' )\n\tconst $feature = $features.find( '.ep-feature-' + feature )\n\tconst settings = {}\n\tconst $settings = $feature.find( '.setting-field' )\n\n\t$settings.each( function() {\n\t\tconst type = jQuery( this ).attr( 'type' )\n\t\tconst name = jQuery( this ).attr( 'data-field-name' )\n\t\tconst value = jQuery( this ).attr( 'value' )\n\n\t\tif ( type === 'radio' ) {\n\t\t\tif ( jQuery( this ).attr( 'checked' ) ) {\n\t\t\t\tsettings[ name ] = value\n\t\t\t}\n\t\t} else {\n\t\t\tsettings[ name ] = value\n\t\t}\n\t} )\n\n\t$feature.addClass( 'saving' )\n\n\tjQuery.ajax( {\n\t\tmethod: 'post',\n\t\turl: ajaxurl,\n\t\tdata: {\n\t\t\taction: 'ep_save_feature',\n\t\t\tfeature: feature,\n\t\t\tnonce: epDash.nonce,\n\t\t\tsettings: settings\n\t\t}\n\t} ).done( ( response ) => {\n\t\tsetTimeout( () => {\n\t\t\t$feature.removeClass( 'saving' )\n\n\t\t\tif ( settings.active === '1' ) {\n\t\t\t\t$feature.addClass( 'feature-active' )\n\t\t\t} else {\n\t\t\t\t$feature.removeClass( 'feature-active' )\n\t\t\t}\n\n\t\t\tif ( response.data.reindex ) {\n\t\t\t\tsyncStatus = 'initialsync'\n\n\t\t\t\tupdateSyncDash()\n\n\t\t\t\t// On initial sync, remove dashboard warnings that dont make sense\n\t\t\t\tjQuery( '[data-ep-notice=\"no-sync\"], [data-ep-notice=\"auto-activate-sync\"], [data-ep-notice=\"upgrade-sync\"]' ).remove()\n\n\t\t\t\tsyncStatus = 'sync'\n\n\t\t\t\t$feature.addClass( 'feature-syncing' )\n\n\t\t\t\tfeatureSync = feature\n\n\t\t\t\tsync()\n\t\t\t}\n\t\t}, 700 )\n\t} ).error( () => {\n\t\tsetTimeout( () => {\n\t\t\t$feature.removeClass( 'saving' )\n\t\t\t$feature.removeClass( 'feature-active' )\n\t\t\t$feature.removeClass( 'feature-syncing' )\n\t\t}, 700 )\n\t} )\n} )\n\nif ( epDash.index_meta ) {\n\tif ( epDash.index_meta.wpcli_sync ) {\n\t\tsyncStatus = 'wpcli'\n\t\tupdateSyncDash()\n\t} else {\n\t\tprocessed = epDash.index_meta.offset\n\t\ttoProcess = epDash.index_meta['found_items']\n\n\t\tif ( epDash.index_meta.feature_sync ) {\n\t\t\tfeatureSync = epDash.index_meta.feature_sync\n\t\t}\n\n\t\tif ( epDash.index_meta.current_sync_item ) {\n\t\t\tcurrentSyncItem = epDash.index_meta.current_sync_item\n\t\t}\n\n\t\tif ( epDash.index_meta.site_stack ) {\n\t\t\tsyncStack = epDash.index_meta.sync_stack\n\t\t}\n\n\t\tif ( syncStack && syncStack.length ) {\n\t\t\t// We are mid sync\n\t\t\tif ( epDash.auto_start_index ) {\n\t\t\t\tsyncStatus = 'sync'\n\n\t\t\t\thistory.pushState( {}, document.title, document.location.pathname + document.location.search.replace( /&do_sync/, '' ) )\n\n\t\t\t\tupdateSyncDash()\n\t\t\t\tsync()\n\t\t\t} else {\n\t\t\t\tsyncStatus = 'pause'\n\t\t\t\tupdateSyncDash()\n\t\t\t}\n\t\t} else {\n\t\t\tif ( toProcess === 0 && ! epDash.index_meta.start ) {\n\t\t\t\t// Sync finished\n\t\t\t\tsyncStatus = 'finished'\n\t\t\t\tupdateSyncDash()\n\t\t\t} else {\n\t\t\t\t// We are mid sync\n\t\t\t\tif ( epDash.auto_start_index ) {\n\t\t\t\t\tsyncStatus = 'sync'\n\n\t\t\t\t\thistory.pushState( {}, document.title, document.location.pathname + document.location.search.replace( /&do_sync/, '' ) )\n\n\t\t\t\t\tupdateSyncDash()\n\t\t\t\t\tsync()\n\t\t\t\t} else {\n\t\t\t\t\tsyncStatus = 'pause'\n\t\t\t\t\tupdateSyncDash()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} else {\n\t// Start a new sync automatically\n\tif ( epDash.auto_start_index ) {\n\t\tsyncStatus = 'initialsync'\n\n\t\tupdateSyncDash()\n\n\t\tsyncStatus = 'sync'\n\n\t\thistory.pushState( {}, document.title, document.location.pathname + document.location.search.replace( /&do_sync/, '' ) )\n\n\t\tsync()\n\t}\n}\n\nfunction updateSyncDash() {\n\tlet text\n\n\tif ( processed === 0 ) {\n\t\t$progressBar.css( { width: '1%' } )\n\t} else {\n\t\tlet width = parseInt( processed ) / parseInt( toProcess ) * 100\n\t\t$progressBar.css( { width: width + '%' } )\n\t}\n\n\tif ( syncStatus === 'initialsync' ) {\n\t\ttext = epDash.sync_initial\n\n\t\t$syncStatusText.text( text )\n\n\t\t$syncStatusText.show()\n\t\t$progressBar.show()\n\t\t$pauseSyncButton.show()\n\t\t$errorOverlay.addClass( 'syncing' )\n\n\t\t$cancelSyncButton.hide()\n\t\t$resumeSyncButton.hide()\n\t\t$startSyncButton.hide()\n\t} else if ( syncStatus === 'sync' ) {\n\t\ttext = epDash.sync_syncing;\n\n\t\tif ( currentSyncItem ) {\n\t\t\tif ( currentSyncItem.indexable ) {\n\t\t\t\ttext += ' ' + epDash.sync_indexable_labels[ currentSyncItem.indexable ].plural.toLowerCase() + ' ' + parseInt( processed ) + '/' + parseInt( toProcess )\n\t\t\t}\n\n\t\t\tif ( currentSyncItem.url ) {\n\t\t\t\ttext += ' (' + currentSyncItem.url + ')'\n\t\t\t}\n\t\t}\n\n\t\t$syncStatusText.text( text )\n\n\t\t$syncStatusText.show()\n\t\t$progressBar.show()\n\t\t$pauseSyncButton.show()\n\t\t$errorOverlay.addClass( 'syncing' )\n\n\t\t$cancelSyncButton.hide()\n\t\t$resumeSyncButton.hide()\n\t\t$startSyncButton.hide()\n\t} else if ( syncStatus === 'pause' ) {\n\t\ttext = epDash.sync_paused\n\n\t\tif ( toProcess && toProcess !== 0 ) {\n\t\t\ttext += ', ' + parseInt( processed ) + '/' + parseInt( toProcess ) + ' ' + epDash.sync_indexable_labels[ currentSyncItem.indexable ].plural.toLowerCase();\n\t\t}\n\n\t\tif ( currentSyncItem && currentSyncItem.url ) {\n\t\t\ttext += ' (' + currentSyncItem.url + ')'\n\t\t}\n\n\t\t$syncStatusText.text( text )\n\n\t\t$syncStatusText.show()\n\t\t$progressBar.show()\n\t\t$pauseSyncButton.hide()\n\t\t$errorOverlay.addClass( 'syncing' )\n\n\t\t$cancelSyncButton.show()\n\t\t$resumeSyncButton.show()\n\t\t$startSyncButton.hide()\n\t} else if ( syncStatus === 'wpcli' ) {\n\t\ttext = epDash.sync_wpcli\n\n\t\t$syncStatusText.text( text )\n\n\t\t$syncStatusText.show()\n\t\t$progressBar.hide()\n\t\t$pauseSyncButton.hide()\n\t\t$errorOverlay.addClass( 'syncing' )\n\n\t\t$cancelSyncButton.hide()\n\t\t$resumeSyncButton.hide()\n\t\t$startSyncButton.hide()\n\t} else if ( syncStatus === 'error' ) {\n\t\t$syncStatusText.text( epDash.sync_error )\n\t\t$syncStatusText.show()\n\t\t$startSyncButton.show()\n\t\t$cancelSyncButton.hide()\n\t\t$resumeSyncButton.hide()\n\t\t$pauseSyncButton.hide()\n\t\t$errorOverlay.removeClass( 'syncing' )\n\t\t$progressBar.hide()\n\n\t\tif ( featureSync ) {\n\t\t\t$features.find( '.ep-feature-' + featureSync ).removeClass( 'feature-syncing' )\n\t\t}\n\n\t\tfeatureSync = null\n\n\t\tsetTimeout( () => {\n\t\t\t$syncStatusText.hide()\n\t\t}, 7000 )\n\t} else if ( syncStatus === 'cancel' ) {\n\t\t$syncStatusText.hide()\n\t\t$progressBar.hide()\n\t\t$pauseSyncButton.hide()\n\t\t$errorOverlay.removeClass( 'syncing' )\n\n\t\t$cancelSyncButton.hide()\n\t\t$resumeSyncButton.hide()\n\t\t$startSyncButton.show()\n\n\t\tif ( featureSync ) {\n\t\t\t$features.find( '.ep-feature-' + featureSync ).removeClass( 'feature-syncing' )\n\t\t}\n\n\t\tfeatureSync = null\n\t} else if ( syncStatus === 'finished' ) {\n\t\t$syncStatusText.text( epDash.sync_complete )\n\n\t\t$syncStatusText.show()\n\t\t$progressBar.hide()\n\t\t$pauseSyncButton.hide()\n\t\t$cancelSyncButton.hide()\n\t\t$resumeSyncButton.hide()\n\t\t$startSyncButton.show()\n\t\t$errorOverlay.removeClass( 'syncing' )\n\n\t\tif ( featureSync ) {\n\t\t\t$features.find( '.ep-feature-' + featureSync ).removeClass( 'feature-syncing' )\n\t\t}\n\n\t\tfeatureSync = null\n\n\t\tsetTimeout( () => {\n\t\t\t$syncStatusText.hide()\n\t\t}, 7000 )\n\t}\n}\n\nfunction cancelSync() {\n\tjQuery.ajax( {\n\t\tmethod: 'post',\n\t\turl: ajaxurl,\n\t\tdata: {\n\t\t\taction: 'ep_cancel_index',\n\t\t\tnonce: epDash.nonce\n\t\t}\n\t} )\n}\n\nfunction sync() {\n\tjQuery.ajax( {\n\t\tmethod: 'post',\n\t\turl: ajaxurl,\n\t\tdata: {\n\t\t\taction: 'ep_index',\n\t\t\tfeature_sync: featureSync,\n\t\t\tnonce: epDash.nonce\n\t\t}\n\t} ).done( ( response ) => {\n\t\tif ( syncStatus !== 'sync' ) {\n\t\t\treturn\n\t\t}\n\n\t\ttoProcess = response.data.found_items\n\t\tprocessed = response.data.offset\n\n\t\tif ( response.data.sync_stack ) {\n\t\t\tsyncStack = response.data.sync_stack\n\t\t}\n\n\t\tif ( response.data.current_sync_item ) {\n\t\t\tcurrentSyncItem = response.data.current_sync_item\n\t\t}\n\n\t\tif ( syncStack && syncStack.length ) {\n\t\t\t// We are mid multisite sync\n\t\t\tsyncStatus = 'sync'\n\t\t\tupdateSyncDash()\n\n\t\t\tsync()\n\t\t\treturn\n\t\t}\n\n\t\tif ( response.data.found_items === 0 && ! response.data.start ) {\n\t\t\t// Sync finished\n\t\t\tsyncStatus = 'finished'\n\t\t\tupdateSyncDash()\n\t\t} else {\n\t\t\t// We are starting a sync\n\t\t\tsyncStatus = 'sync'\n\t\t\tupdateSyncDash()\n\n\t\t\tsync()\n\t\t}\n\t} ).error( ( response ) => {\n\t\tif ( response && response.status && parseInt( response.status ) >= 400 && parseInt( response.status ) < 600 ) {\n\t\t\tsyncStatus = 'error'\n\t\t\tupdateSyncDash()\n\n\t\t\tcancelSync()\n\t\t}\n\t} )\n}\n\n$startSyncButton.on( 'click', () => {\n\tsyncStatus = 'initialsync'\n\n\tupdateSyncDash()\n\n\t// On initial sync, remove dashboard warnings that dont make sense\n\tjQuery( '[data-ep-notice=\"no-sync\"], [data-ep-notice=\"auto-activate-sync\"], [data-ep-notice=\"upgrade-sync\"]' ).remove()\n\n\tsyncStatus = 'sync'\n\tsync()\n} )\n\n$pauseSyncButton.on( 'click', () => {\n\tsyncStatus = 'pause'\n\n\tupdateSyncDash()\n} )\n\n$resumeSyncButton.on( 'click', () => {\n\tsyncStatus = 'sync'\n\n\tupdateSyncDash()\n\n\tsync()\n} )\n\n$cancelSyncButton.on( 'click', () => {\n\tsyncStatus = 'cancel'\n\n\tupdateSyncDash()\n\n\tcancelSync()\n} )\n","module.exports = jQuery;","module.exports = window;"],"sourceRoot":""}