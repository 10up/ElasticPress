!function(e){function t(){var e=window.location.search;if(!e)return{};for(var t=e.replace("?","").split("&"),a=[],r=0;r<t.length;r++){var c=t[r].split("=");a[c[0]]=c[1]}return a}var a=document.querySelector(".ep-facet-form"),r=(document.querySelectorAll(".facet-search"),a.querySelectorAll(".terms"));e(r).on("keyup",".facet-search",_.debounce(function(e){if(13!==e.keyCode){var t=e.currentTarget.value.replace(/\s/g,"");e.delegateTarget.querySelectorAll(".term").forEach(function(e){var a=e.getAttribute("data-term-slug");e.getAttribute("data-term-name").includes(t)||a.includes(t)?e.classList.remove("hide"):e.classList.add("hide")})}},200)),e(a).on("click",".clear-facets",function(e){e.delegateTarget.querySelectorAll(".facet-input").forEach(function(e){e.checked=!1})}),e(a).on("submit",function(a){a.preventDefault();var r={};e(this).serializeArray().forEach(function(e){r[e.name]||(r[e.name]=[]),r[e.name].push(e.value)});var c="?",n=t();for(key in n)"?"!==c&&(c+="&"),key.match(/filter_taxonomy_/i)||(c+=key+"="+n[key]);for(facet in r)"?"!==c&&(c+="&"),c+=facet+"="+r[facet].join(",");"?"===c&&(c=""),document.location=document.location.origin+document.location.pathname+c})}(jQuery);